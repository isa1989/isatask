def detail(request, pk):
    post = get_object_or_404(Task, pk=pk)
    if not request.user == post.user:
        return HttpResponse('sehife tapilmadi')
    try:
        form = Task.objects.get(pk=pk)

    except ObjectDoesNotExist:
        return HttpResponse('Bele task yoxdur')
    #form = Task.objects.get(pk=pk)
    #form = get_object_or_404(Task, pk=pk)

    comment_form = CommentForm(request.POST or None)
    #list = Task.objects.filter(user=request.user)

    if comment_form.is_valid():
        comment = comment_form.save(commit=False)
        comment.comm = form
        comment.user = request.user
        comment.save()
        comment_form = CommentForm()


    return render(request, 'post_detail.html', context={'form':form,'comment_form':comment_form})




                   <div>    {% for i in form.comment.all %}
                {% if  request.user in i.comment_user.all %}

                      <form method="post" action="">
                      {% csrf_token %}
                      {% for field in comment_form %}
                      {{field.label_tag}}
                      {{field}}
                      {% endfor %}
                      <input type="submit" value="serh yaz"><br>
                      </form>

                    {% endif %}
                    {% endfor %}
                   </div>
